{% extends "base.html" %}

{% block title %}Wiki SixHop - 六次の隔たり - オープニング{% endblock %}

{% block content %}
<style>
  /* Page-scoped styles for the opening screen (intellectual × modern) */
  .opening-container {
    position: relative;
    padding: clamp(24px, 6vw, 56px) clamp(16px, 4vw, 32px);
    border-radius: 16px;
    background: radial-gradient(120% 120% at 0% 0%, #f0f4fa 0%, #ffffff 45%, #ffffff 100%);
    box-shadow: 0 12px 40px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  /* subtle network pattern as a background layer (data-URI inline SVG) */
  .opening-container::before {
    content: "";
    position: absolute; inset: -10% -10% auto -10%;
    height: 70%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='900' height='600' viewBox='0 0 900 600'%3E%3Cg fill='none' stroke='%239bb5e7' stroke-opacity='0.35' stroke-width='1'%3E%3Ccircle cx='120' cy='120' r='2'/%3E%3Ccircle cx='320' cy='80' r='2'/%3E%3Ccircle cx='520' cy='140' r='2'/%3E%3Ccircle cx='740' cy='110' r='2'/%3E%3Ccircle cx='220' cy='240' r='2'/%3E%3Ccircle cx='460' cy='260' r='2'/%3E%3Ccircle cx='680' cy='220' r='2'/%3E%3Ccircle cx='300' cy='380' r='2'/%3E%3Ccircle cx='560' cy='360' r='2'/%3E%3Ccircle cx='760' cy='420' r='2'/%3E%3Cpath d='M120 120 L320 80 L520 140 L740 110 M220 240 L320 80 L460 260 L680 220 L740 110 M300 380 L220 240 L460 260 L560 360 L760 420'/%3E%3C/g%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: cover;
    filter: blur(0.5px);
    transform: translateY(-6%);
    pointer-events: none;
  }

  .card { border-radius: 14px; border: 1px solid rgba(0,0,0,0.05); }
  
  .title-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1rem;
  }
  
  
  .card .title {
    font-family: 'Inter', 'Noto Sans JP', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    font-weight: 800;
    color: #3366cc;
    letter-spacing: 0.02em;
    font-size: clamp(2rem, 6vw, 3.6rem);
    line-height: 1.06;
    margin-bottom: .25em;
    animation: wl-fade 800ms ease-out both;
  }
  .subtitle-sub { 
    font-family: 'Noto Serif JP', ui-serif, Georgia, serif;
    color: #4b5565;
    font-size: clamp(1rem, 2.5vw, 1.25rem);
    letter-spacing: .06em;
    margin: 0 0 .4rem;
    animation: wl-fade 1100ms ease-out both;
  }
  .subtitle-sub a {
    color: inherit;
    text-decoration: none;
    border-bottom: 1px dashed rgba(102,102,102,0.5);
    transition: border-bottom-color 0.2s ease, opacity 0.2s ease;
  }
  .subtitle-sub a:hover {
    border-bottom-color: rgba(102,102,102,0.8);
    opacity: 0.8;
  }
  .subtitle { opacity: .85; font-size: clamp(.95rem, 2.2vw, 1.1rem); }

  .section-heading { font-weight: 700; margin-top: 1.2rem; color: #1f2a3a; }
  .rule-explanation ul { margin: .5rem 0 1.25rem; }
  .rule-explanation li { margin: .35rem 0; }

  .button-container { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
  .btn { 
    padding: .9rem 1.3rem; border: 0; border-radius: 10px; cursor: pointer; color: #fff;
    background: linear-gradient(90deg, #3366cc, #5f87f0);
    box-shadow: 0 8px 20px rgba(51,102,204,.2);
    transition: transform .2s ease, box-shadow .2s ease; font-weight: 700;
  }
  .btn:hover { transform: translateY(-2px); box-shadow: 0 12px 26px rgba(51,102,204,.28); }
  .btn.easy { background: linear-gradient(90deg, #2d9d78, #56c6a9); box-shadow: 0 8px 20px rgba(86,198,169,.25); }
  .btn.hard { background: linear-gradient(90deg, #d13d3d, #ff6a6a); box-shadow: 0 8px 20px rgba(255,106,106,.25); }
  .btn.easy:hover { box-shadow: 0 12px 26px rgba(86,198,169,.35); }
  .btn.hard:hover { box-shadow: 0 12px 26px rgba(255,106,106,.35); }

  @keyframes wl-fade { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }


  /* Dark mode adjustments */
  @media (prefers-color-scheme: dark) {
    .opening-container { background: radial-gradient(120% 120% at 0% 0%, #0f1420 0%, #0d1117 45%, #0d1117 100%); box-shadow: 0 12px 40px rgba(0,0,0,0.35); }
    .card { border-color: rgba(255,255,255,0.06); background: rgba(255,255,255,0.02); }
    .card .title { color: #88aaff; }
    .subtitle-sub { color: #cbd5e1; }
    .subtitle-sub a { border-bottom-color: rgba(203,213,225,0.5); }
    .subtitle-sub a:hover { border-bottom-color: rgba(203,213,225,0.8); }
    .subtitle { color: #e2e8f0; opacity: .85; }
    .section-heading { color: #e5edf8; }
  }
</style>
<div class="opening-container">
    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}

    <div class="card">
        <div class="title-container">
            <h1 class="title">Wiki SixHop 🎓</h1>
        </div>
        <p class="subtitle-sub">- <a href="https://ja.wikipedia.org/wiki/%E5%85%AD%E6%AC%A1%E3%81%AE%E9%9A%94%E3%81%9F%E3%82%8A" target="_blank" rel="noopener noreferrer">六次の隔たり</a> -</p>
        <p class="subtitle">Wikipedia のリンクをたどって、お題のページにたどり着け！</p>

        <div class="rule-explanation">
            <p class="section-heading">ルール</p>
            <ul>
                <li>ランダムなWikipediaページからスタートします。</li>
                <li>制限クリック数内に目標記事を探してね！</li>
                <li>クリック数がなくなるとゲームオーバー！</li>
                <li>リセットボタンを押すと最初からやり直しになるよ。</li>
            </ul>
        </div>

        <div class="button-container">
            <button class="btn easy" data-difficulty="easy">Easyモード</button>
            <button class="btn hard" data-difficulty="hard">Hardモード</button>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const startGameUrl = "{{ url_for('start_game') }}";
    const buttons = document.querySelectorAll('.button-container .btn');
    buttons.forEach(button => {
        button.addEventListener('click', function() {
            const difficulty = this.getAttribute('data-difficulty');
            window.location.href = startGameUrl + '?difficulty=' + difficulty;
        });
    });
});
</script>
{% endblock %}