# Wiki SixHop

Wiki SixHopは、Wikipediaのリンクを辿ってゴールを目指すゲームです！🎮  
指定されたスタートページから、リンクをクリックしながらゴールページへ最短でたどり着こう！

## 🎯 ルール
1. スタートページが指定される
2. Wikipedia内のリンクをクリックしながらゴールページを目指す
3. できるだけ少ないクリック数でゴールに到達しよう！

## 🚀 遊び方
1. ゲームを開始すると、Wikipediaのランダムなページがスタート地点になる
2. 目的のページが表示されるので、Wikipedia内のリンクをクリックしてたどり着く
3. 最短ルートを見つけてスコアを競おう！

## 🔧 必要な環境
- Python 3.x
- 必要なライブラリは `requirements.txt` に記載

## 📦 インストール & 実行方法
```bash
git clone https://github.com/usatan-lab/Wiki_sixhop.git
cd wiki_sixhop
pip install -r requirements.txt
python main.py  # 実行
```

## ⚡ パフォーマンス最適化

このアプリケーションには、高速なレスポンスを実現するための最適化機能が実装されています：

### HTMLレスポンスの最適化
- **不要な要素の削除**: スクリプト、スタイル、テーブル、参考文献などの不要な要素を自動的に削除
- **外部リンクの完全削除**: Wikipedia内のリンク以外の外部リンクを表示から完全に除外
- **HTML圧縮**: 空白や改行を削除してHTMLサイズを大幅に削減
- **圧縮率**: 平均して **70-78%のサイズ削減**を実現

実測値の例：
- ネコ: 442KB → 98KB (77.77%削減) - 外部リンク873個を削除
- イヌ: 283KB → 107KB (62.37%削減)
- 東京: 170KB → 41KB (75.77%削減)

### キャッシング
- サーバーサイドキャッシュ（5分間）
- リンク情報のキャッシュ
- 静的ファイルのブラウザキャッシュ（1時間）

### API最適化
- Wikipedia APIの軽量版パラメータを使用
- 接続プーリングによる高速化
- レート制限の実装

### 設定

環境変数で最適化機能を制御できます：

```bash
# HTML最適化を無効化（デフォルト: True）
export ENABLE_HTML_OPTIMIZATION=False

# HTML圧縮を無効化（デフォルト: True）
export ENABLE_HTML_COMPRESSION=False

# 外部リンクの削除を無効化（デフォルト: True）
export REMOVE_EXTERNAL_LINKS=False
```

## 🔒 セキュリティ

- CSRF保護
- レート制限
- 入力サニタイゼーション
- セキュリティヘッダー
- HSTS対応

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

プルリクエストは大歓迎です！バグ報告や機能リクエストもお気軽にどうぞ。
